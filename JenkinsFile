pipeline {
    agent any
    parameters {
        //string (name: 'version', defaultValue: '', description: 'The new version')
        choice(name: 'version', choices: [1.0.0, 1.0.1, 1.0.2, 1.0.3]
        booleanParam(name:'executeTest', defaultValue: true, description: '')

    }

    stages {
        stage(build) {
            steps {
                echo "Hello World from Build form vs"
                echo "Build form build ${NEW_VERSION}"
                }
        }

        stage(test) {
            when{
                expression {
                    param.executeTest
                }
            }
            steps {
              echo "Hello World from tests"
              echo "New Version is ${param.version}"
                }
        }

        stage(deploy) {
            steps {
                echo "Hello World from deploy"
                echo "New Version is deployed ${param.version}"
                }
        }
    }

}