pipeline {
    agent any
    parameters {    
        choice(name: 'VERSION', choices: ['1.0.0','1.0.1', '1.0.2', '1.0.3'])
        booleanParam(name: 'executeTest', defaultValue: 'true', description: '')
    }
    stages {
        stage('build') {
            steps {
                echo "Hello World from Build form vs"
                echo "Build form build ${param.VERSION}"
                }
        }
        stage('test') {
            when{
                expression {
                    param.executeTest == true
                }
            }
            steps {
              echo "Hello World from tests"
              echo "New Version is ${param.VERSION}"
                }
        }
        stage('deploy') {
            steps {
                echo "Hello World from deploy"
                echo "New Version is deployed ${param.VERSION}"
                }
        }
    }

}